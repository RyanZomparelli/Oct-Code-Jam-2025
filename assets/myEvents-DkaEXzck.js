import"./index-B92HQrkF.js";const g=document.querySelector(".event-card-template"),m=document.querySelector(".event-cards-list"),v=JSON.parse(localStorage.getItem("savedEvents"))||[],u=document.querySelectorAll(".modal"),c=document.querySelector("#myevents-modal"),r=c.querySelector(".modal-card__image"),L=c.querySelector(".modal-card__info-title"),D=c.querySelector(".modal-card__info-time"),k=c.querySelector(".modal-card__info-description"),C=c.querySelector(".modal-card__delete-btn"),a=document.querySelector("#delete-modal"),h=a.querySelector(".delete-modal__button-confirm"),w=a.querySelector(".delete-modal__button-cancel"),l=document.querySelector(".event-cards__saved-title"),i=document.querySelector(".event-card__not-saved"),x=[...v].sort((t,e)=>{const n=new Date(t.time),o=new Date(e.time);return n-o});function _(t){t.length===0?(i.classList.add("event-card__not-saved_active"),l.classList.remove("event-cards__saved-title_active")):(i.classList.remove("event-card__not-saved_active"),l.classList.add("event-cards__saved-title_active"))}_(v);function S(t){t.forEach(e=>{const n=g.content.querySelector(".event-card").cloneNode(!0),o=n.querySelector(".event-card__image"),f=n.querySelector(".event-card__info-title"),p=n.querySelector(".event-card__info-time"),q=n.querySelector(".event-card__info-description");o.src=e.image,o.alt=e.title,f.textContent=e.title,p.textContent=e.time,q.textContent=e.description,n.addEventListener("click",()=>{r.src=e.image,r.alt=e.title,L.textContent=e.title,D.textContent=e.time,k.textContent=e.description,E(c,e)}),m.appendChild(n)})}S(x);function y(t){u.forEach(e=>{t.key==="Escape"&&d(e)})}u.forEach(t=>{t.addEventListener("click",function(e){(e.target.classList.contains("modal__close-button")||e.target.classList.contains("modal"))&&d(t)})});let s;function E(t,e){s=e,t.classList.add("modal_is-opened"),document.addEventListener("keydown",y)}C.addEventListener("click",()=>{E(a,s),d(c)});h.addEventListener("click",()=>{M(s.id),d(a),T()});w.addEventListener("click",()=>{d(a)});function d(t){t.classList.remove("modal_is-opened"),document.removeEventListener("keydown",y)}function M(t){const n=(JSON.parse(localStorage.getItem("savedEvents"))||[]).filter(o=>o.id!==t);localStorage.setItem("savedEvents",JSON.stringify(n))}function T(){m.innerHTML="";const t=JSON.parse(localStorage.getItem("savedEvents"))||[],e=[...t].sort((n,o)=>new Date(n.time)-new Date(o.time));S(e),_(t)}
