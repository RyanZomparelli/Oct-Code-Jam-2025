import"./index-Cu_OcxUZ.js";import{e as r}from"./eventdata-i4gWG6kV.js";const M=document.querySelector(".event-card-template"),s=document.querySelector(".event-cards-list"),m=document.querySelectorAll(".modal"),o=document.querySelector("#card-modal"),T=o.querySelector(".modal__close-button"),u=o.querySelector(".modal-card__image"),k=o.querySelector(".modal-card__info-title"),C=o.querySelector(".modal-card__info-time"),w=o.querySelector(".modal-card__info-description"),D=document.querySelector("#confirmation-modal"),f=document.querySelector(".event-filter"),x=document.querySelector(".current-event-filter__future"),F=document.querySelector(".current-event-filter__past"),b=document.querySelector(".current-event-filter__clear"),v=new Date;function _(t){return[...t].sort((e,n)=>{const c=new Date(e.time),a=new Date(n.time);return c-a})}const y=_(r);function l(t){t.forEach(e=>{const n=M.content.querySelector(".event-card").cloneNode(!0),c=n.querySelector(".event-card__image"),a=n.querySelector(".event-card__info-title"),h=n.querySelector(".event-card__info-time"),g=n.querySelector(".event-card__info-description");c.src=e.image,c.alt=e.title,a.textContent=e.title,h.textContent=e.time,g.textContent=e.description,n.addEventListener("click",()=>{u.src=e.image,u.alt=e.title,k.textContent=e.title,C.textContent=e.time,w.textContent=e.description,p(o,e)}),T.addEventListener("click",()=>{i(o)}),s.appendChild(n)})}l(y);function I(t){s.innerHTML="",l(t)}function d(t){const e=_(t);I(e)}function N(){const t=f.value.toLowerCase(),e=r.filter(n=>n.title.toLowerCase().includes(t));d(e)}f.addEventListener("input",N);function A(){const t=r.filter(e=>{if(new Date(e.time)>v)return e});d(t)}x.addEventListener("click",A);function B(){const t=r.filter(e=>{if(new Date(e.time)<v)return e});d(t)}F.addEventListener("click",B);b.addEventListener("click",()=>{s.innerHTML="",l(y)});function S(t){m.forEach(e=>{t.key==="Escape"&&i(e)})}m.forEach(t=>{t.addEventListener("click",function(e){(e.target.classList.contains("modal__close-button")||e.target.classList.contains("modal"))&&i(t)})});let E;function p(t,e){t.classList.add("modal_is-opened"),E=e,document.addEventListener("keydown",S)}function i(t){t.classList.remove("modal_is-opened"),document.removeEventListener("keydown",S),q.removeEventListener("click",L)}const q=document.querySelector(".modal-card__save-btn");q.addEventListener("click",()=>{L(E),p(D),i(o)});function L(t){const e=JSON.parse(localStorage.getItem("savedEvents"))||[];e.some(c=>c.title===t.title)||(e.push(t),localStorage.setItem("savedEvents",JSON.stringify(e)))}
